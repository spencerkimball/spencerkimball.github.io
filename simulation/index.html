<!DOCTYPE html>
<meta charset="utf-8">

<head>
  <link rel="stylesheet" type="text/css" href="style.css" media="screen" />
</head>

<body>
  <script src="https://d3js.org/d3.v3.js"></script>
  <script src="model.js"></script>
  <script src="datacenter.js"></script>
  <script src="node.js"></script>
  <script src="range.js"></script>
  <script src="replica.js"></script>
  <script src="request.js"></script>
  <script src="app.js"></script>
  <script src="visualization.js"></script>
  <script src="aggv1.js"></script>
  <script src="boxes.js"></script>
  <script src="circles.js"></script>
  <div id="model"></div>
  <script>

function initModel(model) {
  model.nodeRadius = 10
  model.nodeDistance = 30
  model.desiredReplicas = 5
  //model.projection = d3.geo.albersUsa();
  //model.projectionName = "us-states"
  model.projection = d3.geo.mercator();
  model.projectionName = "world"
  model.skin = new AggV1()
  model.enablePlayAndReload = false
  model.enableAddNodeAndApp = false
  model.displaySimState = false

  new Datacenter(-74.0059, 40.7128, model).label = "New York City"
  new Datacenter(-87.6298, 41.8781, model).label = "Chicago"
  new Datacenter(-95.3698, 29.7604, model).label = "Houston"
  new Datacenter(-122.0839, 37.3861, model).label = "Mountain View"
  new Datacenter(-122.3321, 47.6062, model).label = "Seattle"
  for (var i = 0; i < model.datacenters.length; i++) {
    for (var j = 0; j < 5; j++) {
      addNodeToModel(model, model.datacenters[i])
    }
    addAppToModel(model, model.datacenters[i])
  }
  addModel(model)
}
new Model("model", viewWidth, viewHeight * 1, function(m) { initModel(m) })

</script>
</body>

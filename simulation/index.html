<!DOCTYPE html>
<meta charset="utf-8">

<head>
  <link rel="stylesheet" type="text/css" href="style.css" media="screen" />
</head>

<body>
  <script src="https://d3js.org/d3.v3.js"></script>
  <script src="https://d3js.org/topojson.v1.min.js"></script>
  <script src="model.js"></script>
  <script src="datacenter.js"></script>
  <script src="node.js"></script>
  <script src="range.js"></script>
  <script src="replica.js"></script>
  <script src="request.js"></script>
  <script src="app.js"></script>
  <script src="visualization.js"></script>
  <script src="aggv1.js"></script>
  <script src="boxes.js"></script>
  <script src="circles.js"></script>
  <div id="model"></div>
  <script>

function initModel(model) {
  model.nodeRadius = 20
  model.nodeDistance = 80
  model.desiredReplicas = 5
  model.geoProjection = "world"
  model.skin = new AggV1()
  model.enablePlayAndReload = false
  model.enableAddNodeAndApp = true
  model.displaySimState = false

  new Datacenter(viewWidth * 0.2, viewHeight * 0.50, model)
  new Datacenter(viewWidth * 0.33, viewHeight * 0.933, model)
  new Datacenter(viewWidth * 0.5, viewHeight * 0.333, model)
  new Datacenter(viewWidth * 0.66, viewHeight * 0.933, model)
  new Datacenter(viewWidth * 0.8, viewHeight * 0.50, model)
  for (var i = 0; i < model.datacenters.length; i++) {
    for (var j = 0; j < 5; j++) {
      addNodeToModel(model, model.datacenters[i])
    }
    addAppToModel(model, model.datacenters[i])
  }
  addModel(model)
}
new Model("model", viewWidth, viewHeight * 1.33, function(m) { initModel(m) })

</script>
</body>
